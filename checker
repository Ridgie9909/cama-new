<?php
            session_start();
                require_once './config/database.php';

        
            // print_r($_GET);
            if (isset($_POST['name']) && !empty($_POST['name']) AND isset($_POST['password']) && !empty($_POST['password'])){
                $username = $_POST['name'];
                $password = md5($_POST['password']);}
            try{
                $conn = new PDO("mysql:host=".dbhost."; dbname=".dbname, dbuser, dbpass);
                $conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
                $search = "SELECT username, password, active FROM users WHERE username='".$username."' AND password='".$password."' AND active='1'";
                // if ($stmt = $conn->execute($search)){
                //     if ($stmt->rowCount() > 0){
                //         $search = "SELECT username, password, active FROM users WHERE username='".$username."' AND password='".$password."' AND active='1'";
                //     }
                // }
                // $match = fetchColumn();
                if ($match > 0){
                    // session_start();
                    // $_SESSION['loggedin'];
                    $msg = 'login complete! thank you';
                    echo $msg;
                }
                else{
                    $msg = 'login failed! please make sure that you enter the correct details and that you have activated your account.';
                    echo $msg;
                }                
                echo " working! ";
            }
            catch(PDOException $e){
                    echo "Failed to connect: " . $e->getMessage() . " ";
            }
            echo $msg;
            ?>

if (strlen($password) < 6 && preg_match('`[A-Z]`',$password) && preg_match('`[a-z]`',$password) && preg_match('`[0-9]`',$password)){



pattern='.{5,100}'



else{
                echo "dude the password needs to be better either needs a number or a special2";
            } 


            <form action="./verification/insert.php" method="post" >
                <label for="name" >Username:</label>
                <input type="text" name="name" value="<?php echo $username; ?>" required pattern='.{5,100}'/>
                <span><?php echo $username_err; ?></span>
                <label for="email">Email:</label>
                <input type="email" name="email" value="<?php echo $email; ?>"  required/>
                <span><?php echo $emailErr; ?></span>
                <label for="password">Password:</label>
                <input type="password" name="password" value="<?php echo $password; ?>" required  autocomplete ="off"/>
                <span><?php echo $password_err; ?> </span>
                <br>
                <br>
                <input type="submit" value="Sign up" />
            </form>